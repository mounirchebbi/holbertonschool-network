#!/usr/bin/env bash
# Script that edits /etc/hosts:
# Resolve localhost to 127.0.0.2
# Resolve facebook.com to 8.8.8.8

set -e

# Check for root permissions
if [ "$(id -u)" -ne 0 ]; then
  echo "Please run this script with sudo or as root."
  exit 1
fi

# Backup current /etc/hosts
cp /etc/hosts /etc/hosts.bak

# Remove any existing 'localhost' or 'facebook.com' lines
sed -i '/localhost/d' /etc/hosts
sed -i '/facebook.com/d' /etc/hosts

# Add the custom mappings
echo "127.0.0.2 localhost" >> /etc/hosts
echo "8.8.8.8 facebook.com" >> /etc/hosts
