#!/usr/bin/env bash
# Script that edits /etc/hosts:
# Resolve localhost to 127.0.0.2
# Resolve facebook.com to 8.8.8.8

# Backup the original /etc/hosts
sudo cp /etc/hosts /etc/hosts.bak

# Create a temporary file to work with
temp_file=$(mktemp)

# Remove old localhost and facebook.com lines, then add new entries
sudo grep -v 'localhost\|facebook.com' /etc/hosts > "$temp_file"
echo "127.0.0.2 localhost" >> "$temp_file"
echo "8.8.8.8 facebook.com" >> "$temp_file"

# Replace the original file
sudo mv "$temp_file" /etc/hosts

# Ensure proper permissions
sudo chmod 644 /etc/hosts
