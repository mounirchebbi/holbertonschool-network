#!/usr/bin/env bash
# Script that edits /etc/hosts:
# Resolve localhost to 127.0.0.2
# Resolve facebook.com to 8.8.8.8

# Backup the original /etc/hosts file
sudo cp /etc/hosts /etc/hosts.bak

# Check if localhost is already set to 127.0.0.1 and replace it
if grep -q "127.0.0.1 localhost" /etc/hosts; then
    sudo sed -i 's/127.0.0.1/127.0.0.2/' /etc/hosts
else
    echo "127.0.0.2 localhost" | sudo tee -a /etc/hosts > /dev/null
fi

# Add facebook.com to resolve to 8.8.8.8
if ! grep -q "8.8.8.8 facebook.com" /etc/hosts; then
    echo "8.8.8.8 facebook.com" | sudo tee -a /etc/hosts > /dev/null
fi

echo "Configuration updated. You can now test with 'ping localhost' and 'ping facebook.com'."
